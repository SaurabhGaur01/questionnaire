(this["webpackJsonpquestionnaire-app"]=this["webpackJsonpquestionnaire-app"]||[]).push([[0],{73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(12),s=n.n(r),i=n(6),o=n(4),l=n(23),u=n(33),d=n(34),p=n.n(d),j=n(35),h=["Step-1","Step-2","Step-3","Step-4","Step-5"],m="ERROR",b="LOADING",O="SUCCESS",v="https://challenge-dot-popsure-204813.appspot.com",f="modules/questionnaire-app/SET_STEPS_LENGTH",N="modules/questionnaire-app/SET_STEP_AS_COMPLETED",S="modules/questionnaire-app/CLEAR_STEP_AS_COMPLETED",x="modules/questionnaire-app/SET_ACTIVE_STEP",y=function(e){return{type:x,value:e}},g=n(98),E=n(96),C=n(97),L=n(1),A={actionSetActiveStep:y},_=Object(o.c)(Object(i.b)((function(e){return{completedSteps:e.completedSteps,activeStep:e.activeStep}}),A))((function(e){var t=e.activeStep,n=e.completedSteps,c=e.steps,a=e.actionSetActiveStep;return Object(L.jsx)(g.a,{nonLinear:!0,activeStep:t,children:c.map((function(e,t){return Object(L.jsx)(E.a,{children:Object(L.jsx)(C.a,{id:"step-button",onClick:(c=t,function(){a(c)}),completed:n[t],children:e})},e);var c}))})})),T="modules/questionnaire-app/SET_ADDRESS",I="modules/questionnaire-app/CLEAR_ADDRESS",k="modules/questionnaire-app/SET_NAME",R="modules/questionnaire-app/CLEAR_NAME",q="modules/questionnaire-app/SET_OCCUPATION",w="modules/questionnaire-app/CLEAR_OCCUPATION",U="modules/questionnaire-app/SET_EMAIL",D="modules/questionnaire-app/CLEAR_EMAIL",P="modules/questionnaire-app/SET_CHILDREN",H="modules/questionnaire-app/CLEAR_CHILDREN",M="modules/questionnaire-app/HAVE_CHILDREN",F="modules/questionnaire-app/DONT_HAVE_CHILDREN",G={actionHandleReset:function(){return function(e){e({type:I}),e({type:R}),e({type:w}),e({type:D}),e({type:H}),e({type:F}),e({type:S}),e(y(0))}}},W=Object(o.c)(Object(i.b)(null,G))((function(e){var t=e.actionHandleReset;return Object(L.jsx)("div",{className:"action-buttons",children:Object(L.jsx)("button",{id:"reset-button",type:"button",className:"btn btn-primary",onClick:function(){t()},children:"Reset"})})})),Y=Object(o.c)(Object(i.b)((function(e){return{searchResults:e.searchResults,loadingStatus:e.loadingStatus}})))((function(e){var t=e.searchResults,n=e.loadingStatus;return n===m?Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{className:"alert alert-danger",role:"alert",children:"There is an error, Please try again after sometime"}),Object(L.jsx)(W,{})]}):n===b?Object(L.jsx)("div",{className:"progress",children:Object(L.jsx)("div",{className:"progress-bar progress-bar-striped bg-success progress-bar",role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"})}):Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{className:"card mt-3",children:Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("div",{className:"result-heading",children:"We got your recommendation"}),Object(L.jsx)("div",{className:"result-sub-heading",children:"Based on your answers, this is what make sense for you and what you should pay."}),t.map((function(e,t){var n=e.type,c=e.price,a=c.amount,r=c.periodicity;return Object(L.jsx)("div",{className:"card mt-2 mb-2",children:Object(L.jsx)("div",{className:"card-body",children:Object(L.jsxs)("div",{className:"inner-content",children:[Object(L.jsx)("div",{className:"row-1",children:n.split("_").join(" ")}),Object(L.jsxs)("div",{className:"row-1",children:["\xa3",a," per ",r.toLowerCase()]})]})})},t)}))]})}),Object(L.jsx)(W,{})]})})),B={actionSetActiveStep:y},V=Object(o.c)(Object(i.b)((function(e){return{stepsLength:e.stepsLength,completedSteps:e.completedSteps,activeStep:e.activeStep}}),B))((function(e){var t=e.activeStep,n=e.handleComplete,c=e.stepsLength,a=e.completedSteps,r=e.actionSetActiveStep;return Object(L.jsxs)("div",{className:"action-buttons",children:[Object(L.jsx)("button",{id:"back-button",type:"button",className:"btn btn-secondary",disabled:0===t,onClick:function(){r(t-1)},children:"Back"}),Object(L.jsx)("button",{id:"complete-button",type:"button",className:"btn btn-primary",onClick:n,children:Object.keys(a).length===c-1?"Finish":"Next"})]})})),J=n(21),z=n.n(J),K=n(36),Q=n(22),X=n.n(Q),Z="modules/questionnaire-app/SET_LOADING_IN_PROGRESS",$="modules/questionnaire-app/SET_LOADING_SUCCESS",ee="modules/questionnaire-app/SET_LOADING_ERROR",te="modules/questionnaire-app/SET_SEARCH_RESULTS",ne="modules/questionnaire-app/CLEAR_SEARCH_RESULTS",ce=function(e){return{type:te,data:e}},ae=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t,n){var c,a,r,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Z}),e.prev=1,e.next=4,X.a.post(v+"/user",n().userInput,{headers:{"Content-Type":"application/json"}});case 4:return c=e.sent,a=c.data.jwt,e.next=8,X.a.get(v+"/recommendation",{headers:{Authorization:"Bearer ".concat(a)}});case 8:r=e.sent,s=r.data,t(ce(s)),t({type:$}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t({type:ee});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}()},re={actionSetName:function(e){return{type:k,value:e}}},se=Object(o.c)(Object(i.b)((function(e){return{firstName:e.userInput.firstName}}),re))((function(e){var t=e.actionSetName,n=e.firstName;return Object(L.jsx)("div",{className:"card card-container",children:Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("h5",{className:"card-title",children:" What's your First Name ?"}),Object(L.jsx)("div",{className:"form-group",children:Object(L.jsx)("input",{id:"userName-required",className:"form-control",type:"text",placeholder:"User Name",onChange:function(e){t(e.target.value)},value:n})})]})})})),ie={actionSetChildren:function(e){return{type:P,value:e}},actionSetChildrenPresent:function(e){return{type:M,value:e}}},oe=Object(o.c)(Object(i.b)((function(e){return{numberOfChildren:e.userInput.numberOfChildren,hasChildren:e.hasChildren}}),ie))((function(e){var t=e.actionSetChildren,n=e.numberOfChildren,c=e.actionSetChildrenPresent,a=e.hasChildren,r=function(e){c(e.target.value)};return Object(L.jsx)("div",{className:"card card-container",children:Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("h5",{className:"card-title",children:"Do you have any children ?"}),Object(L.jsxs)("div",{className:"form-check",children:[Object(L.jsx)("input",{className:"form-check-input",type:"radio",name:"children",value:"yes",checked:"yes"===a,onChange:r}),Object(L.jsx)("label",{className:"form-check-label",children:"Yes"})]}),Object(L.jsxs)("div",{className:"form-check",children:[Object(L.jsx)("input",{className:"form-check-input",type:"radio",name:"children",value:"no",checked:"no"===a,onChange:r}),Object(L.jsx)("label",{className:"form-check-label",children:"No"})]}),"yes"===a&&Object(L.jsxs)("div",{className:"mt-5",children:[Object(L.jsx)("h5",{className:"card-title",children:" How many children do you have ?"}),Object(L.jsx)("div",{className:"form-group",children:Object(L.jsx)("input",{id:"children-number",className:"form-control",type:"number",placeholder:"No of Children",onChange:function(e){t(parseInt(e.target.value))},value:n})})]})]})})})),le={actionSetEmail:function(e){return{type:U,value:e}}},ue=Object(o.c)(Object(i.b)((function(e){return{email:e.userInput.email}}),le))((function(e){var t=e.actionSetEmail,n=e.email;return Object(L.jsx)("div",{className:"card card-container",children:Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("h5",{className:"card-title",children:" What's your email ?"}),Object(L.jsx)("div",{className:"form-group",children:Object(L.jsx)("input",{id:"UserEmail-required",className:"form-control",type:"email",placeholder:"User Email",onChange:function(e){t(e.target.value)},value:n})})]})})})),de={actionSetAddress:function(e){return{type:T,value:e}}},pe=Object(o.c)(Object(i.b)((function(e){return{address:e.userInput.address}}),de))((function(e){var t=e.actionSetAddress,n=e.address;return Object(L.jsx)("div",{className:"card card-container",children:Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("h5",{className:"card-title",children:" What's your Address ?"}),Object(L.jsx)("div",{className:"form-group",children:Object(L.jsx)("input",{id:"UserAddress-required",className:"form-control",type:"text",placeholder:"User Address",onChange:function(e){t(e.target.value)},value:n})})]})})})),je={actionSetOccupation:function(e){return{type:q,value:e}}},he=Object(o.c)(Object(i.b)((function(e){return{occupation:e.userInput.occupation}}),je))((function(e){var t=e.actionSetOccupation,n=e.occupation,c=function(e){t(e.target.value)};return Object(L.jsx)("div",{className:"card card-container",children:Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("h5",{className:"card-title",children:"What's your Occupation ?"}),Object(L.jsxs)("div",{className:"form-check",children:[Object(L.jsx)("input",{className:"form-check-input",type:"radio",name:"occupation",value:"EMPLOYED",checked:"EMPLOYED"===n,onChange:c,id:"occupation-id"}),Object(L.jsx)("label",{className:"form-check-label",children:"Employed"})]}),Object(L.jsxs)("div",{className:"form-check",children:[Object(L.jsx)("input",{className:"form-check-input",type:"radio",name:"occupation",value:"STUDENT",checked:"STUDENT"===n,onChange:c}),Object(L.jsx)("label",{className:"form-check-label",children:"Student"})]}),Object(L.jsxs)("div",{className:"form-check",children:[Object(L.jsx)("input",{className:"form-check-input",type:"radio",name:"occupation",value:"SELF_EMPLOYED",checked:"SELF_EMPLOYED"===n,onChange:c}),Object(L.jsx)("label",{className:"form-check-label",children:"Self-employed"})]})]})})})),me=Object(o.c)(Object(i.b)((function(e){return{activeStep:e.activeStep}})))((function(e){switch(e.activeStep){case 0:return Object(L.jsx)(se,{});case 1:return Object(L.jsx)(pe,{});case 2:return Object(L.jsx)(he,{});case 3:return Object(L.jsx)(oe,{});case 4:return Object(L.jsx)(ue,{});default:return Object(L.jsx)(se,{})}})),be={actionSetStepsLength:function(){return{type:f}},actionSetStepAsCompleted:function(e){return{type:N,data:e}},actionSetActiveStep:y,actionHandleResult:ae},Oe=Object(o.c)(Object(i.b)((function(e){return{stepsLength:e.stepsLength,completedSteps:e.completedSteps,activeStep:e.activeStep}}),be))((function(e){var t=e.stepsLength,n=e.activeStep,c=e.actionSetStepsLength,r=e.completedSteps,s=e.actionSetStepAsCompleted,i=e.actionSetActiveStep,o=e.actionHandleResult;a.a.useEffect((function(){c(),i(0)}),[c,i]);var l=function(){return Object.keys(r).length===t};return Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)(_,{steps:h}),l()?Object(L.jsx)(Y,{allStepsCompleted:l}):Object(L.jsx)(a.a.Fragment,{children:Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("div",{className:"col-md-4"}),Object(L.jsxs)("div",{className:"col-md-6",children:[Object(L.jsx)(me,{}),Object(L.jsx)(V,{handleComplete:function(){var e=r;e[n]=!0,s(e),function(){var e=n!==t-1||l()?n+1:h.findIndex((function(e,t){return!(t in r)}));i(e),l()&&o()}()}})]})]})})})]})})),ve=Object(o.b)({firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case k:return t.value;case R:return"";default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case T:return t.value;case I:return"";default:return e}},occupation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case q:return t.value;case w:return"";default:return e}},numberOfChildren:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case P:return t.value;case H:return 0;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case U:return t.value;case D:return"";default:return e}}}),fe=Object(o.b)({stepsLength:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case f:return h.length;default:return e}},completedSteps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case N:return t.data;case S:return{};default:return e}},activeStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case x:return t.value;default:return e}},userInput:ve,hasChildren:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case M:return t.value;case F:return"";default:return e}},loadingStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case Z:return b;case $:return O;case ee:return m;default:return e}},searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"NULL_ACTION"};switch(t.type){case te:return t.data;case ne:return[];default:return e}}}),Ne=(n(72),n(73),{key:"root",storage:p.a}),Se=Object(l.a)(Ne,fe),xe=Object(o.d)(Se,Object(o.a)(j.a)),ye=Object(l.b)(xe);s.a.render(Object(L.jsx)(i.a,{store:xe,children:Object(L.jsx)(u.a,{loading:null,persistor:ye,children:Object(L.jsx)(Oe,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.97beed3f.chunk.js.map